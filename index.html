<!DOCTYPE html>
<html>
<head>
    <title>Weather report</title>
        <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: 'Raleway', sans-serif;
            background: #1f1d2e;
        }

        #weatherReport {
            font-size: 24px;
            text-align: center;
            color: #e0def4;
        }
    </style>
</head>
<body>
    <p id="weatherReport">Loading...</p>

    <script>
        function generateWeatherReport(weatherData) {
            const [temp, humidity, condition, windSpeed, rain] = weatherData.split(" ");

            let report = "Today's weather report:";

            if (parseInt(temp) > 80) {
                report += " It's fucking hot";
            } else if (parseInt(temp) > 70) {
                report += " It's fucking warm";
            } else if (parseInt(temp) < 50) {
                report += " It's fucking chilly";
            } else if (parseInt(temp) < 40) {
                report += " It's fucking cold";
            } else {
                report += " It's fucking nice";
            }

            if (parseInt(humidity) > 85) {
                report += " and it's fucking humid";
            }

            if (parseInt(windSpeed) > 12) {
                report += " and it's fucking windy";
            }

            if (parseFloat(rain) > 0) {
                report += " and it's fucking";

                if (condition.includes("snow")) {
                    report += " snowy";
                }
                else if (parseFloat(rain) <= .4) {
                    report += " sprinkly";
                } else {
                    report += " rainy";
                }

                if (parseFloat(rain) > .8) {
                    report += " as fuck";
                }
            }

            return report;
        }

        fetch("https://wttr.in/Prairie+Village,Kansas?format=%t+%h+%C+%w+%p")
            .then(response => response.text())
            .then(weatherOutput => {
                const funnyReport = generateWeatherReport(weatherOutput);
                document.getElementById("weatherReport").textContent = funnyReport;
            })
            .catch(error => {
                console.error("An error occurred:", error);
                document.getElementById("weatherReport").textContent = "Unable to fetch weather data.";
            });
    </script>
</body>
</html>
